
<!-- Jobs & Placements that are still pending approval -->
<div th:fragment="pending-approval" id="pending-approval" xmlns:th="http://www.thymeleaf.org">
    
    <div class="row">
        <div class="col-12 col-md-4 col-lg-4 col-xl-3"><h1 class="table-heading">Pending Approval</h1></div>
        <div class="col-12 col-md-7 col-lg-8 col-xl-6"><input class="form-control" id="pendingApprovalFilter" type="text" name="keyword" placeholder="Filter Positions..." /></div>
        <div class="col-md-1 col-xl-3"></div>
    </div>
    
    <div class="row table-container">
        <table class="table table-sm table-danger table-striped table-hover">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Type</th>
                    <th>Provider</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Description</th>
                    <th class="text-center">Manage</th>
                </tr>
            </thead>
            <tbody id="pendingPositionsData">
                <tr th:each="pos : ${pendingPositions}">
                    <th scope="row" th:text="${pos.id}"></th>
                    <td th:text="${pos.type}">Job</td>
                    <td th:text="${pos.partner.businessName}">Microsoft</td>
                    <td th:text="${#dates.format(pos.startDate, 'dd/MM/yyyy')}">1/12/2022</td>
                    <td th:text="${#dates.format(pos.endDate, 'dd/MM/yyyy')}">24/12/2022</td>
                    <td th:text="${pos.description}">Just a one month job</td>
                    <td style="display: flex;">
                        <div class="mx-auto">
                            <span class="material-symbols-rounded btn-approve">Done</span>
                            <span class="material-symbols-rounded btn-edit" title="Edit">Edit</span>
                            <span class="material-symbols-rounded btn-delete">Delete</span>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    
        <script th:inline="javascript">
            /*<![CDATA[*/
            var pendingPositions =
                /*[[${pendingPositions}]]*/
                /*]]>*/
                $("#pendingApprovalFilter").on("keyup", function () {
                    var value = $(this).val();
                    var table = document.getElementById("pendingPositionsData");
                    var filteredData = educatorFilterPositions(value, positions);
                    rebuildEducatorPositionsTable(filteredData, table);
                });
        </script>
    </div>
    <hr />

</div>


<!-- Current (approved) Jobs & Placements -->
<div th:fragment="approved" id="approved" xmlns:th="http://www.thymeleaf.org">

    <div class="row">
        <div class="col-12 col-md-4 col-lg-4 col-xl-3">
            <h1 class="table-heading">Current</h1>
        </div>
        <div class="col-12 col-md-7 col-lg-8 col-xl-6">
            <input class="form-control" id="approvedFilter" type="text" name="keyword" placeholder="Filter Positions..." /></div>
        <div class="col-md-1 col-xl-3"></div>
    </div>

    <div class="row table-container">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Type</th>
                    <th>Provider</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Description</th>
                    <th class="text-center">Manage</th>
                </tr>
            </thead>
            <tbody id="approvedPositionsData">
                <tr th:each="pos : ${approvedPositions}">
                    <th scope="row" th:text="${pos.id}"></th>
                    <td th:text="${pos.type}">Job</td>
                    <td th:text="${pos.partner.businessName}">Microsoft</td>
                    <td th:text="${#dates.format(pos.startDate, 'dd/MM/yyyy')}">1/12/2022</td>
                    <td th:text="${#dates.format(pos.endDate, 'dd/MM/yyyy')}">24/12/2022</td>
                    <td th:text="${pos.description}">Just a one month job</td>
                    <td style="display: flex;">
                        <div class="mx-auto">
                            <span class="material-symbols-rounded btn-edit" title="Edit">edit</span>
                            <span class="material-symbols-rounded btn-delete">delete</span>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>

        <script th:inline="javascript">
            /*<![CDATA[*/
            var positions =
                /*[[${approvedPositions}]]*/
                /*]]>*/
                $("#approvedFilter").on("keyup", function () {
                    var value = $(this).val();
                    var table = document.getElementById("approvedPositionsData");
                    var filteredData = educatorFilterPositions(value, positions);
                    rebuildEducatorPositionsTable(filteredData, table);
                });
        </script>
    </div>

</div>
<!-- current (approved) jobs & placements for students-->
<div th:fragment="approvedStudent" id="approvedStudent" xmlns:th="http://www.thymeleaf.org">

    <div class="row">
        <div class="col-12 col-md-4 col-lg-4 col-xl-3">
            <h1 class="table-heading">Current</h1>
        </div>
        <div class="col-12 col-md-7 col-lg-8 col-xl-6">
            <input class="form-control" id="approvedFilter" type="text" name="keyword" placeholder="Filter Positions..." /></div>
        <div class="col-md-1 col-xl-3"></div>
    </div>

    <div class="row table-container">
        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th>ID</th>
                <th>Type</th>
                <th>Provider</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Description</th>
                <th class="text-center">View Job & Placement Details</th>
            </tr>
            </thead>
            <tbody id="approvedPositionsData">
            <tr th:each="pos : ${approvedPositions}">
                <th scope="row" th:text="${pos.id}"></th>
                <td th:text="${pos.type}">Job</td>
                <td th:text="${pos.partner.businessName}">Microsoft</td>
                <td th:text="${#dates.format(pos.startDate, 'dd/MM/yyyy')}">1/12/2022</td>
                <td th:text="${#dates.format(pos.endDate, 'dd/MM/yyyy')}">24/12/2022</td>
                <td th:text="${pos.description}">Just a one month job</td>
                <button class="btn btn-outline-secondary" id="sidebarToggle">Menu</button>
                <td style="display: flex;">
                    <div class="mx-auto">
                        <span th:if="${pos.type == 'Placement'}" class='btn btn-primary'>View Placement</span>
                        <span th:if="${pos.type == 'Job'}" class='btn btn-primary'>View Job</span>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>

        <script th:inline="javascript">
            /*<![CDATA[*/
            var positions =
                /*[[${approvedPositions}]]*/
                /*]]>*/
                $("#approvedFilter").on("keyup", function () {
                    var value = $(this).val();
                    var table = document.getElementById("approvedPositionsData");
                    var filteredData = educatorFilterPositions(value, positions);
                    rebuildEducatorPositionsTable(filteredData, table);
                });
        </script>
    </div>

</div>

<!-- Partner Jobs -->
<div th:fragment="partner-jobs" id="partner-jobs" xmlns:th="http://www.thymeleaf.org">

    <div class="row">
        <div class="col-12 col-md-4 col-lg-4 col-xl-3">
            <h1 class="table-heading">Your Jobs</h1>
        </div>
        <div class="col-12 col-md-7 col-lg-8 col-xl-6">
            <input class="form-control" id="partnerJobFilter" type="text" name="keyword" placeholder="Filter Positions..." /></div>
        <div class="col-md-1 col-xl-3"></div>
    </div>

    <div class="row table-container">
        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th>ID</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Description</th>
                <th>Status</th>
                <th class="text-center">Manage</th>
            </tr>
            </thead>
            <tbody id="partnerJobsData">
            <tr th:each="job : ${partnerJobs}">
                <th scope="row" th:text="${job.id}"></th>
                <td th:text="${#dates.format(job.startDate, 'dd/MM/yyyy')}">1/12/2022</td>
                <td th:text="${#dates.format(job.endDate, 'dd/MM/yyyy')}">24/12/2022</td>
                <td th:text="${job.description}">Just a one month job</td>
                <td th:text="${job.approved ? 'Approved' : 'Pending'}">Approved</td>
                <td style="display: flex;">
                    <div class="mx-auto">
                        <!-- link passes position type as a request param to dynamically load the edit page -->
                        <!-- NB will need to pass id as well -->
                        <a th:href="@{~/partner/edit-position?type=Job&id={jid}( jid=${job.id} )}" class="material-symbols-rounded btn-edit" title="Edit">edit</a>
                        <span class="material-symbols-rounded btn-delete">delete</span>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>

        <script th:inline="javascript">
            /*<![CDATA[*/
            var positions =
                /*[[${partnerJobs}]]*/
                /*]]>*/
                $("#partnerJobFilter").on("keyup", function () {
                    var value = $(this).val();
                    var table = document.getElementById("partnerJobsData");
                    var filteredData = partnerFilterJobs(value, positions);
                    rebuildPartnerJobsTable(filteredData, table);
                });
        </script>
    </div>
</div>

<!-- Partner Placements -->
<div th:fragment="partner-placements" id="partner-placements" xmlns:th="http://www.thymeleaf.org">

    <div class="row">
        <div class="col-12 col-md-4 col-lg-4 col-xl-3">
            <h1 class="table-heading">Your Placements</h1>
        </div>
        <div class="col-12 col-md-7 col-lg-8 col-xl-6">
            <input class="form-control" id="partnerPlacementsFilter" type="text" name="keyword" placeholder="Filter Positions..." /></div>
        <div class="col-md-1 col-xl-3"></div>
    </div>

    <div class="row table-container">
        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th>ID</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Description</th>
                <th>Status</th>
                <th class="text-center">Manage</th>
            </tr>
            </thead>
            <tbody id="partnerPlacementsData">
            <tr th:each="pla : ${partnerPlacements}">
                <th scope="row" th:text="${pla.id}"></th>
                <td th:text="${#dates.format(pla.startDate, 'dd/MM/yyyy')}">1/12/2022</td>
                <td th:text="${#dates.format(pla.endDate, 'dd/MM/yyyy')}">24/12/2022</td>
                <td th:text="${pla.description}">Just a one month job</td>
                <td th:text="${pla.approved ? 'Approved' : 'Pending'}">Approved</td>
                <td style="display: flex;">
                    <div class="mx-auto">
                        <!-- link passes position type as a request param to dynamically load the edit page -->
                        <!-- NB will need to pass id as well -->
                        <a th:href="@{~/partner/edit-position?type=Placement&id={pid}( pid=${pla.id} )}" class="material-symbols-rounded btn-edit" title="Edit">edit</a>
                        <span class="material-symbols-rounded btn-delete">delete</span>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>

        <script th:inline="javascript">
            /*<![CDATA[*/
            var positions =
                /*[[${partnerPlacements}]]*/
                /*]]>*/
                $("#partnerPlacementsFilter").on("keyup", function () {
                    var value = $(this).val();
                    var table = document.getElementById("partnerPlacementsData");
                    var filteredData = partnerFilterPlacements(value, positions);
                    rebuildPartnerPlacementsTable(filteredData, table);
                });
        </script>
    </div>
</div>

<!-- Partner EOIs -->
<div th:fragment="partner-expression-of-interest" id="partner-expression-of-interest" xmlns:th="http://www.thymeleaf.org">

    <div class="row">
        <div class="col-12 col-md-4 col-lg-4 col-xl-3">
            <h1 class="table-heading">Pending Expressions of Interest</h1>
        </div>
        <div class="col-12 col-md-7 col-lg-8 col-xl-6">
            <input class="form-control" id="partnerFilter" type="text" name="keyword" placeholder="Filter Positions..." /></div>
        <div class="col-md-1 col-xl-3"></div>
    </div>

    <div class="row table-container">
        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th>ID</th>
                <th>Type</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Description</th>
                <th>Status</th>
                <th class="text-center">Manage</th>
            </tr>
            </thead>
            <tbody id="partnerPositionsData">
            <tr th:each="pos : ${partnerPositions}">
                <th scope="row" th:text="${pos.id}"></th>
                <td th:text="${pos.type}">Job</td>
                <td th:text="${#dates.format(pos.startDate, 'dd/MM/yyyy')}">1/12/2022</td>
                <td th:text="${#dates.format(pos.endDate, 'dd/MM/yyyy')}">24/12/2022</td>
                <td th:text="${pos.description}">Just a one month job</td>
                <td th:text="${pos.approved ? 'Approved' : 'Pending'}">Approved</td>
                <td style="display: flex;">
                    <div class="mx-auto">
                        <span class="material-symbols-rounded btn-edit" title="Edit">edit</span>
                        <span class="material-symbols-rounded btn-delete">delete</span>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>

        <script th:inline="javascript">
            /*<![CDATA[*/
            var positions =
                /*[[${partnerPositions}]]*/
                /*]]>*/
                $("#partnerFilter").on("keyup", function () {
                    var value = $(this).val();
                    var table = document.getElementById("partnerPositionsData");
                    var filteredData = partnerFilterPositions(value, positions);
                    rebuildPartnerPositionsTable(filteredData, table);
                });
        </script>
    </div>